---
layout: post
title: Ковариантность и контравариантность
tags: [фп, types]
tg_id: 301
---
У меня всегда были трудности с запоминанием умных терминов, хотя суть вариантности довольно проста. Если иерархия типов сохраняется в том же порядке для производных типов (которые используют искомый тип как параметр), то это (ко)вариатность. Если идет в обратном порядке — (контра)вариантность. Если нет иерархии — (ин)вариантность.

Если термины из теории категорий — "сложна", то можно мыслить в терминах потребитель/производитель, в Kotlin и C# параметры так пишут — `in` и `out` вместо всяких плюс-минусов, и это гораздо читаемее. 

![](/assets/images/covariance-and-contravariance.png)

