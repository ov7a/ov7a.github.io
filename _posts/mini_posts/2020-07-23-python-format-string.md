---
layout: post
title: Форматирование строки в python
tags: [python]
---
Я тот еще консерватор и не очень люблю новое. Поэтому статьи про
```python
"hello, {}!".format("world")
"hello, {0} and {0} again!".format("world")
"hello, {name}".format(name="world")
```
вызывали у меня легкое раздражение: я не видел никаких существенных преимуществ перед старым добрым `"hello %s" % "world"`. Но пора бы очнуться от летаргического сна, и посмотреть на Python 3.6+ (выпущенный в 2016).

Там есть `f"hello, {name}!"`, у которого в скобках будет полноценное выражение, т.е. можно сделать `f"hello, {''.join(map(chr, [87, 111, 114, 108, 100]))}!"`. Этот вариант хорош для большинства случаев, особенно с учетом того, что [почти во всех](https://en.wikipedia.org/wiki/String_interpolation) распространенных языках строковая интерполяция плюс-минус так и работает. Кроме Java, но она всегда была немного "особенной".

Пример случая, когда такая интерполяция не очень уместна: фиксированный формат, который используется несколько раз и вынесен в "константу". Например, у меня в скриптах довольно часто встречается такое:
```python
XX_PATH = "http://%s/some/api/path/%s"
...
response = requests.get(XX_PATH % (host, param), ...)
```
Тут придется садиться на один из стульев: `%` или `format`.

