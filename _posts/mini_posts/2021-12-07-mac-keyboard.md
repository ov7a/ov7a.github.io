---
layout: post
title: Переназначение клавиш в macOS
tags: [mac]
tg_id: 252
---
На маках отличаются не только горячие клавиши, но еще есть особенности поведения управляющих клавиш (например, Home и End). А еще там немного другая раскладка для русского языка.

Помню, при первом знакомстве с Ubuntu 6.10 в далеком 2007 году я по незнанию выбрал просто "русскую раскладку", а не "Windows раскладку", и у меня неплохо так припекло: почему это для набора запятой нужно нажать <kbd>Shift</kbd> + <kbd>6</kbd>, а на привычном месте — слэш? Кто эту дичь придумал? Так вот, ее придумали в Apple:)

Нищеброды должны страдать, поэтому внешнее оборудование не от Apple мак поддерживает не очень хорошо. Например, дополнительные кнопки мыши в маке просто игнорируются, а для внешней клавиатуры нельзя без извращений использовать альтернативную маковской раскладку.

Чтобы как-то разобраться с этим безобразием, можно использовать [Karabiner-Elements](https://karabiner-elements.pqrs.org/). UX у него удручающий, но зато с помощью заготовленных правил можно переназначить клавиши: [сделать Home и End](https://ke-complex-modifications.pqrs.org/#HomeEnd) более привычными и [включить](https://ke-complex-modifications.pqrs.org/#mouse_button) 4-5 кнопку мышки.

А вот для исправления раскладки правила не было — странно, что его еще никто не сделал. Пришлось [сделать самому](https://github.com/pqrs-org/KE-complex_modifications/pull/992). Разрабатывать свое правило было немного болезненно, потому что это голый JSON с кучей копипасты, и для установки локального правила надо использовать гиперссылку вида `karabiner://karabiner/assets/complex_modifications/import?url=file%3A%2F%2F%2FUsers%2Fov7a%2FDocuments%2Fremap_ru.json` с ручным удалением для обновления:( А еще в русской раскладке никак нельзя набрать обратный слэш, пришлось с этим смириться. Но в итоге [мой PR приняли](https://github.com/pqrs-org/KE-complex_modifications/pull/992), а само правило можно найти [тут](https://ke-complex-modifications.pqrs.org/#russian-keyboard-remapping).

