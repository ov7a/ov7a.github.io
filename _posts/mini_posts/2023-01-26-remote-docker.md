---
layout: post
title: Удаленная работа с docker
tags: [docker, devops]
tg_id: 370
---
С сервисом докера общение идет через сокет, т.е. ничего не мешает с ним общаться по сети, например, через `ssh`. Простейший вариант — установить переменную окружения `DOCKER_HOST` как `ssh://${USER}@${HOST}`. После этого все докер команды будут выполняться на удаленной машине. 
Можно немного заморочиться и использовать [контексты](https://docs.docker.com/engine/context/working-with-contexts/), переключаясь между ними.

Это может быть удобно во всяких скриптах деплоя, например в gitlab-ci. Вместо заворачивания в скрипт или добавления перед каждой командой `ssh user@host...` просто писать команды и все. Другое преимущество — переменные окружения будут браться локально, а еще локально будут копироваться артефакты через
`docker cp container:/container/path local/path`.


