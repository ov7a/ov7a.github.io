---
layout: post
title: Запуск команды без пароля sudo
tags: [linux, cli]
tg_id: 366
---
Лучше такой пост, чем никакой, наверно :/

1. Создаем исполняемый скрипт. Его нужно создать через sudo, чтобы нельзя было редактировать. Иначе это будет дырищей, через которую можно будет запускать что угодно.
```sh
sudo nano /usr/sbin/some_command
# добавляем shebang и саму команду
# ...
sudo chmod +x /usr/sbin/some_command
```
2. Добавляем настройку через `sudo visudo`, обязательно в конец файла.
```
some_user ALL=(ALL) NOPASSWD: /usr/sbin/some_command
```
`some_user` — имя пользователя.

3. Теперь можно запускать команду через `sudo some_command`, и пароль не будет запрашиваться. Можно повесить на хоткей какой-нибудь.

Мне пригодилось для того, чтобы рестартовать демон частоты процессора. Ноут почему-то периодически решает, что 400 MHz хватит всем, почему — быстро не докопался, поэтому решил костылем.

