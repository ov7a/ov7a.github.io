---
layout: post
title: Стоимость боксинга в Scala
tags: [scala, фп, graalvm]
tg_id: 432
---
[Отличная статья](https://github.com/jarekratajski/costOfBoxingScala) с бенчмарками. Для справки: боксинг — это замена примитивного типа (`int`) на ссылочный (`Integer`) или, в более общем случае, просто увеличение уровня косвенности (когда чтобы добраться до "настоящего" значения нужно больше ссылок).

TLDR:
* Стоимость боксинга зависит от JVM и оптимизаций. 
* Opaque-типы [почти бесплатны](/2022/05/19/value-classes.html)
* ФП-стиль "дороже" императивного при использовании OpenJDK.
* Боксинг довольно хорошо оптимизируется в GraalVM, с ее использованием почти нет разницы, в каком стиле писать.

