---
layout: post
title: Как в Java открыли тайп-классы
tags: [java, фп, compiler]
tg_id: 653
---
Занятный [доклад](https://www.youtube.com/watch?v=Gz7Or9C0TpM) про тайп-классы в Java. Вообще говоря, название предполагает, что это про эволюцию языка и как проектировать языки расширяемо, но эта часть показалась мне вторичной.

Докладчик на примерах итератора, `AutoClosable`, перегрузки операторов, литералов для коллекций, инстансов класса по умолчанию и прочих подобных фич демонстрирует проблемы с прямолинейным использованием интерфейсов по сравнению с отдельным классом. Уже сейчас это можно увидеть на примере `Comparable<T>` и `Comparator<T>`.

На 25 минуте появляется... моноид :D Потом еще свидетельства для тайп-классов (тот же `Comparator<T>` — свидетельство, что для `T` есть операция сравнения). По сути, плавно объясняется концепт тайп-классов из ФП (aka given/implicits в Scala) для мамонтов-джавистов. Под конец проходится еще по конвертациям (`Short` в `Integer`) и перегрузке операторов.

Видимо, фичи можно официально объявлять мейнстримом, если они даже в Java появляются.
