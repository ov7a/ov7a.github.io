---
layout: post
title: Сборка контейнера со Spring-приложением
tags: [spring, maven, gradle, docker]
---
В новых версиях спринга [появилась возможность](https://spring.io/guides/topicals/spring-boot-docker/#_build_plugins) создавать docker-образ через maven/gradle. Работает это через [Cloud Native Buildpacks](https://buildpacks.io/), все правильно раскладывается по слоям и выставляются оптимальные настройки JVM.

Звучит, конечно, прикольно, но если бы настройки JVM можно было посчитать автоматом — то почему они для всех приложений не определяются автоматом? Сомневаюсь, что утилита знает о характере вычислений и профиле нагрузки на приложение. Впрочем, может, это никому и не надо, сейчас проще накинуть пару лишних гигов оперативки, чем разбираться в нюансах.

Но настораживает и другой тренд: сейчас система сборки обрастает плагинами, которые позволяют не только собирать приложение, но еще и управлять его версиями, ветками git, сейчас вот и докер собирать. Что дальше — деплоить на прод через maven, потому что так удобнее? Только в кубер, конечно же. CI/CD не нужны, все пихаем в исходный код!

Как будто и не помнит никто уже про Nero Burning ROM. [Супер-аппы в духе времени](https://vas3k.ru/notes/tech_pessimism): почта продает продукты, такси доставляет еду, магазин выдает посылки, банк продает авиабилеты, в инстаграмме постят лонгриды, в IDE встаивают видеочаты и т.д.

