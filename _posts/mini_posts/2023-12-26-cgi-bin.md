---
layout: post
title: cgi-bin
tags: [http, мысли]
---
Есть что-то притягательное в том, чтобы иногда делать что-то "как в старину". 

Я повелся на шальную мысль и написал [cgi-скрипт](https://en.wikipedia.org/wiki/Common_Gateway_Interface). Прямо на "проде". По SSH, редактируя в nano. Без тестов, VCS и СМС. И теперь любое посещение специальной (публичной!) ссылки будет приводить к исполнению питоновского скрипта. С URL-параметрами, передаваемыми в переменные окружения без фильтрации и экранирования. С возвратом полной копии стандартного потока вывода пользователю. "Это безопасно. Дэвид, эксперт по безопасности".

Больше всего времени я потратил на борьбу с правами доступа (и узнал, что бит исполнения в директории влияет на то, можно ли в нее по символической ссылке переходить). Но если отбросить это, то поменять консольный скрипт на "веб-сервер" — дело на пару минут.

Такая простота искушает. На настоящей работе такого конечно в жизни уже не сделаешь (да и никто и не даст). Сама возможность запускать скрипт на сервере по запросу от пользователя без кучи прослоек сейчас звучит диковато. 

