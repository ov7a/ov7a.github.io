---
layout: post
title: Миграция блога на GitHub Actions
tags: [blogdev, web, github]
tg_id: 562
---
На днях мигрировал бложик со [встроенного действия](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll) на полноценный [GitHub Action](https://github.com/ov7a/ov7a.github.io/blob/master/.github/workflows/deploy.yml): все равно недавно добавил действие, чтобы [проверять ссылки](/2024/10/15/links-checker.html), там и так уже собирается сайт, зачем два раза это делать.

Для этого нужно сделать пару приседаний: отключить в настройках [старый пайплайн, pages-build-deployment](https://stackoverflow.com/a/76960283/1003491), и потом _правильно_ подключить нужные действия во имя безопасности.

Раз теперь сайт генерируется через Actions, то можно отбросить [ограничения GitHub pages](/2020/04/06/github-pages.html). Оказалось, что для ванильного Jekyll действие должно быть другое, и надо еще пару раз поприседать, но в итоге [справился](https://github.com/ov7a/ov7a.github.io/blob/master/.github/workflows/deploy.yml). Зато все зависимости теперь явно в Gemfile прописаны.

Благодаря снятию ограничения на плагины смог убрать старые костыли для пагинации (с ручным добавлением новых страниц) и заменить их на более новые и чуть более красивые. Попутно еще удалил немного лишнего кода для генерации галерей с картинками.

Движок пока менять не хочу, хотя мысли [опять](/2024/06/20/optimizing-site-build.html) были. Немного бесит, когда очень нетривиально обрезать слеш в конце строки :/
