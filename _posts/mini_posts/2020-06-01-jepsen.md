---
layout: post
title: Jepsen
tags: [бд]
---
Про хорошие СУБД обычно думаешь как о сервисе, не вдаваясь в подробности, как они работают. До тех пор, пока не случится какая-нибудь фигня.

[Jepsen](https://jepsen.io/) — это классный проект, направленный на проверку поведения распределенных систем (баз данных, шин данных и т.п.) в нештатных ситуациях вроде потери пакетов или split-brain. Фактически [Aphyr](https://aphyr.com/about) ломает системы, создавая внешние условия, в которых нарушается консистентность. К сожалению, готовых анализов не так много. Про какой-нибудь Elasticsearch там всего лишь [статья](https://aphyr.com/posts/323-call-me-maybe-elasticsearch-1-5-0) 2015 года про древнюю версию 1.5.0. Однако в блоге достаточно высокий технический уровень и детальность проработки, и из него можно почерпнуть много знаний про внутренние механизмы работы и типовые проблемы распределенных систем.

Кстати, недавно на HN [наделала шуму](https://www.infoq.com/news/2020/05/Jepsen-MongoDB-4-2-6/) статья про то, что несмотря на попытки Mongo улучшить работу с транзакционностью, консистентностью и всем таким, у нее все еще есть проблемы.

